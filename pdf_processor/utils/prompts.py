"""PDF 처리를 위한 프롬프트 모음"""


def get_pdf_analysis_prompt(total_pages: int, num_invoices: int) -> str:
    """PDF 분석을 위한 프롬프트 생성

    Args:
        total_pages: 전체 페이지 수
        num_invoices: 예상되는 인보이스 수

    Returns:
        프롬프트 문자열
    """
    return (
        "당신은 PDF 문서에서 인보이스를 식별하고 페이지를 분할하는 전문가입니다. "
        "다음 정보를 바탕으로 인보이스 페이지 범위를 결정해주세요:\n"
        f"1. 전체 페이지 수: {total_pages}페이지\n"
        f"2. 포함된 인보이스 수: {num_invoices}개\n"
        "3. 인보이스 구분 기준:\n"
        "   - 각 인보이스는 일반적으로 새로운 페이지에서 시작됩니다.\n"
        "   - 인보이스 번호, 날짜, 거래처 정보 등이 새로 시작되는 것이 새로운 인보이스의 시작점입니다.\n"
        "   - 동일한 인보이스의 연속 페이지는 일반적으로 페이지 번호나 연속성을 나타내는 표시가 있습니다.\n"
        "\n"
        f"제공된 텍스트를 분석하여 정확히 {num_invoices}개의 인보이스로 분할해주세요.\n"
        f"주의: 페이지 번호는 1부터 시작하며, 1부터 {total_pages} 사이의 값이어야 합니다."
    )


def get_invoice_processor_prompt() -> str:
    """인보이스 데이터 추출을 위한 프롬프트 생성

    Returns:
        프롬프트 문자열
    """
    return (
        "당신은 인보이스 데이터를 추출하는 전문가입니다. "
        "다음 규칙을 바탕으로 인보이스에서 필요한 정보를 추출해주세요:\n"
        "\n"
        "1. 데이터 추출 규칙:\n"
        "   - 대부분의 값들은 제목이나 라벨이 있습니다 (예: '인보이스 번호:', '발행일:', '금액:' 등)\n"
        "   - 고객명은 일반적으로 첫 페이지 좌측에 위치하며, 경칭(님, 귀하 등)이 포함될 수 있습니다\n"
        "   - 금액은 숫자만 추출하고 쉼표나 통화 기호는 제외합니다\n"
        "   - 날짜는 YYYY-MM-DD 형식으로 변환합니다\n"
        "\n"
        "2. 누락된 값 처리:\n"
        "   - 모든 필드가 반드시 값을 가지고 있지는 않습니다\n"
        '   - 값을 찾을 수 없는 경우 빈 문자열("")로 설정합니다\n'
        "   - 추측하거나 임의의 값을 넣지 마세요\n"
        "\n"
        "3. 데이터 정확성:\n"
        "   - 제공된 스키마의 형식을 정확히 따라주세요\n"
        "   - 추출한 값이 확실하지 않은 경우 빈 값으로 남겨두세요\n"
        "   - 동일한 정보가 여러 번 나타나는 경우, 가장 명확한 값을 선택하세요"
    )
